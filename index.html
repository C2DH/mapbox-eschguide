<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Welcome to Esch</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
        <script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
        <link href="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <style>
            body {
                margin: 0;
                padding: 0;
            }
            #map {
                position: absolute;
                top: 0;
                bottom: 0;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <style>
            h2 {
                margin: 10px;
                font-size: 2.5em;
            }
            h3 {
                margin: 10px;
                font-size: 1.2em;
            }
            .map-overlay {
                position: absolute;
                top: 10px;
                left: 10px;
                background: rgba(5, 122, 240, 0.4);
                margin: 15px 25px;
                font-family: "Open Sans", sans-serif;
                color: #ffffff;
                overflow: auto;
                border-radius: 3px;
            }

            #menu {
                background: #fff;
                position: absolute;
                z-index: 1;
                top: 10px;
                right: 10px;
                border: 1px solid rgba(0, 0, 0, 0.4);
                font-family: "Open Sans", sans-serif;
            }

            #menu a {
                font-size: 13px;
                color: #404040;
                display: block;
                margin: 0;
                padding: 0;
                padding: 10px;
                text-decoration: none;
                border-bottom: 1px solid rgba(0, 0, 0, 0.25);
                text-align: center;
            }

            #menu a:last-child {
                border: none;
            }

            #menu a:hover {
                background-color: #f8f8f8;
                color: #404040;
            }

            #menu a.active {
                background-color: #057af0;
                color: #ffffff;
            }

            #menu a.active:hover {
                background: #045cb5;
            }
        </style>
        <nav id="menu" class="p-1">
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_1" id="layerSwitch1">
            <label class="custom-control-label" for="layerSwitch1">Tour 1</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_2" id="layerSwitch2">
            <label class="custom-control-label" for="layerSwitch2">Tour 2</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_3" id="layerSwitch3">
            <label class="custom-control-label" for="layerSwitch3">Tour 3</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_4" id="layerSwitch4">
            <label class="custom-control-label" for="layerSwitch4">Tour 4</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_5" id="layerSwitch5">
            <label class="custom-control-label" for="layerSwitch5">Tour 5</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_6" id="layerSwitch6">
            <label class="custom-control-label" for="layerSwitch6">Tour 6</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_7" id="layerSwitch7">
            <label class="custom-control-label" for="layerSwitch7">Tour 7</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_8" id="layerSwitch8">
            <label class="custom-control-label" for="layerSwitch8">Tour 8</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_9" id="layerSwitch9">
            <label class="custom-control-label" for="layerSwitch9">Tour 9</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_10" id="layerSwitch10">
            <label class="custom-control-label" for="layerSwitch10">Tour 10</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_11" id="layerSwitch11">
            <label class="custom-control-label" for="layerSwitch11">Tour 11</label>
          </div>
          <div class="custom-control custom-switch m-1">
            <input type="checkbox" class="custom-control-input" unchecked data-layer="Tour_12" id="layerSwitch12">
            <label class="custom-control-label" for="layerSwitch12">Tour 12</label>
          </div>
        </nav>
        <div id="map"></div>
        <div class="map-overlay">
            <h2>Bienvenue</h2>
            <br />
            <h3>
                Guide historique et architectural <br />
                Esch-sur-Alzette
            </h3>
        </div>
        <script>
            mapboxgl.accessToken = "pk.eyJ1Ijoib3JpZWxpc2FyYXR1bmlsdSIsImEiOiJja2ZwMXIwcXMwZHB6MnFwYWRncDhmcGdkIn0.zPOcZlp92FqMjaB_wocPBg";
            var map = new mapboxgl.Map({
                container: "map",
                style: "mapbox://styles/orielisaratunilu/ckfwcdaxq0a8d19mx05navfuq",
                zoom: 12,
                center: [5.976816732902083, 49.493178110353789],
            });
            
            map.on("load", function() {
              var buttons = document.getElementsByClassName('custom-control-input');
              for(var i = 0,l=buttons.length; i < l; i +=1 ) {
                buttons[i].addEventListener('change', function(e) {
                  var visibility = e.target.checked ? 'visible' : 'none';
                  var tourId = String(this.dataset.layer);
                  console.info('@change visibility of', this.dataset.layer, 'to', visibility);
                  map.setLayoutProperty(tourId, 'visibility', visibility);
                  map.setLayoutProperty('buildings_' + tourId, 'visibility', visibility);
                });
              }
            })

            // Add geolocate control to the map.
            map.addControl(
                new mapboxgl.GeolocateControl({
                    positionOptions: {
                        enableHighAccuracy: true,
                    },
                    trackUserLocation: true,
                }),
                "bottom-right"
            );
        </script>
    </body>
</html>

